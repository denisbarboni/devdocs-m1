<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>WYSIWYG Extension Points | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="https://devdocs.magento.com/assets/css/app.css?ver=10" />
	<link rel="stylesheet" href="https://devdocs.magento.com/assets/css/print.css?ver=10" media="print"/>

	<link rel="stylesheet" href="https://devdocs.magento.com/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="https://devdocs.magento.com/feed.xml" />


<link rel="canonical" href="index.html" data-proofer-ignore />


<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.4", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs",
      baseUrl: "https://docs.magento.com/user-guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>



<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->

<script src="https://assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRCLXBB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="https://devdocs.magento.com/">
      <img class="logo-image" src="https://devdocs.magento.com/assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Magento</span>
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/bk-cloud.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-start.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-upgrade-parent.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/release-notes/cloud-tools.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-development.html" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-config.html" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-quick-reference.html" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-conf-files_magento-app.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/env/environments.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-mftf.html" class="spectrum-Menu-itemLabel ">Magento application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-test-magecloud-pkg-code.html" class="spectrum-Menu-itemLabel ">Magento Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../install-gde/bk-install-guide.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/extensions/" class="spectrum-Menu-itemLabel ">Magento Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../release-notes/bk-release-notes.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../contributor-guide/contributing.html" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/guides/v2.4/ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://magento.github.io/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with Magento Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../graphql/index.html" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/marketplace/eqp/v1/api.html" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../test/testing.html" class="spectrum-Menu-itemLabel ">Magento Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mftf/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/marketplace/sellers/getting-started.html" class="spectrum-Menu-itemLabel ">Extensions Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="http://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../payments-integrations/bk-payments-integrations.html" class="spectrum-Menu-itemLabel ">Payment Integrations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/recommendations/product-recs.html" class="spectrum-Menu-itemLabel ">Product Recommendations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/security/security-and-compliance.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/community/resources/support.html" class="spectrum-Menu-itemLabel ">Magento Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/videos/" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher spectrum-Dropdown">

	<button id="version-switcher-button" class="spectrum-FieldButton spectrum-Dropdown-trigger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		<span class="spectrum-Dropdown-label">Magento 2.4</span>
    <i class="spectrum-Icon spectrum-UIIcon-ChevronDownMedium spectrum-Dropdown-icon" focusable="false" aria-hidden="true"></i>
  </button>

	<div class="dropdown-menu spectrum-Popover spectrum-Popover--bottom spectrum-Dropdown-popover">
		<ul class="dropdown-menu-left spectrum-Menu" aria-labelledby="version-switcher-button">
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="https://devdocs.magento.com/guides/v2.3/ui_comp_guide/components/wysiwyg/extension-points/">Magento 2.3</a></li>
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="index.html">Magento 2.4</a></li>
			
		</ul>
	</div>
	
</div>

      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <div class="dropdown-menu spectrum-Popover spectrum-Dropdown-popover spectrum-Popover--bottom dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-1">Developer</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-1">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="../../../../../../index.html?itm_source=devdocs&amp;itm_medium=top_nav&amp;itm_campaign=app_switcher&amp;itm_term=Commerce&#32;Developer&#32;Documentation">Commerce Developer Documentation</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        </ul>
      </div>
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-2">Merchant</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-2">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/user-guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        </ul>
      </div>
      
      </div>
    </div>
  </div>
</div>


      <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form
  class="spectrum-Search search-form"
  action="https://devdocs.magento.com/search.html"
>
  <input
    type="search"
    placeholder="Looking for something specific?"
    name="query"
    value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control"
    autocomplete="off"
  />
  <svg
    class="spectrum-Icon spectrum-UIIcon-Magnifier spectrum-Search-icon"
    focusable="false"
    aria-hidden="true"
  >
    <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="search-clear spectrum-ClearButton spectrum-SearchClearButton">
    <svg
      class="spectrum-Icon spectrum-UIIcon-CrossSmall"
      focusable="false"
      aria-hidden="true"
    >
      <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
    </svg>
  </button>
</form>

</div>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">UI Components Guide</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="https://devdocs.magento.com/guides/v2.4/ui_comp_guide/bk-ui_comps.html" class="spectrum-SideNav-itemLink ">Overview of UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Components</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-actiondelete.html" class="spectrum-SideNav-itemLink ">ActionDelete component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-actionscolumn.html" class="spectrum-SideNav-itemLink ">ActionsColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-bookmarks.html" class="spectrum-SideNav-itemLink ">Bookmarks component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-button.html" class="spectrum-SideNav-itemLink ">Button component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-checkbox.html" class="spectrum-SideNav-itemLink ">Checkbox component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-checkbox-toggle-notice.html" class="spectrum-SideNav-itemLink ">CheckboxToggleNotice component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-checkboxset.html" class="spectrum-SideNav-itemLink ">Checkboxset component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-colorpicker.html" class="spectrum-SideNav-itemLink ">ColorPicker component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-column.html" class="spectrum-SideNav-itemLink ">Column component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns.html" class="spectrum-SideNav-itemLink ">Columns component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-editor.html" class="spectrum-SideNav-itemLink ">ColumnsEditor component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-editor-record.html" class="spectrum-SideNav-itemLink ">ColumnsEditorRecord component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-editor-view.html" class="spectrum-SideNav-itemLink ">ColumnsEditorView component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-editing-bulk.html" class="spectrum-SideNav-itemLink ">ColumnsEditingBulk component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-editing-client.html" class="spectrum-SideNav-itemLink ">ColumnsEditingClient component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columns-resize.html" class="spectrum-SideNav-itemLink ">ColumnsResize component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-columnscontrols.html" class="spectrum-SideNav-itemLink ">ColumnsControls component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-container.html" class="spectrum-SideNav-itemLink ">Container component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-date.html" class="spectrum-SideNav-itemLink ">Date component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-datecolumn.html" class="spectrum-SideNav-itemLink ">DateColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-draganddrop.html" class="spectrum-SideNav-itemLink ">DragAndDrop component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-dynamicrows.html" class="spectrum-SideNav-itemLink ">DynamicRows component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-dynamicrows-dnd.html" class="spectrum-SideNav-itemLink ">DynamicRowsDragAndDrop component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-dynamicrows-record.html" class="spectrum-SideNav-itemLink ">DynamicRowsRecord component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-email.html" class="spectrum-SideNav-itemLink ">Email component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-expandable-column.html" class="spectrum-SideNav-itemLink ">Expandable column component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-exportbutton.html" class="spectrum-SideNav-itemLink ">ExportButton component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-fieldset.html" class="spectrum-SideNav-itemLink ">Fieldset component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-file.html" class="spectrum-SideNav-itemLink ">File component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-fileuploader.html" class="spectrum-SideNav-itemLink ">FileUploader component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-filters.html" class="spectrum-SideNav-itemLink ">Filters component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-filterschips.html" class="spectrum-SideNav-itemLink ">FiltersChips component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-form.html" class="spectrum-SideNav-itemLink ">Form component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-form-data-provider.html" class="spectrum-SideNav-itemLink ">FormDataProvider component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-grid-data-provider.html" class="spectrum-SideNav-itemLink ">GridDataProvider component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-hidden.html" class="spectrum-SideNav-itemLink ">Hidden component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-htmlcontent.html" class="spectrum-SideNav-itemLink ">HtmlContent component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-image-preview.html" class="spectrum-SideNav-itemLink ">ImagePreview component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../image-uploader/index.html" class="spectrum-SideNav-itemLink ">ImageUploader component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-input.html" class="spectrum-SideNav-itemLink ">Input component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-insertform.html" class="spectrum-SideNav-itemLink ">InsertForm component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-insertlisting.html" class="spectrum-SideNav-itemLink ">InsertListing component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-linkcolumn.html" class="spectrum-SideNav-itemLink ">LinkColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-listing-grid.html" class="spectrum-SideNav-itemLink ">Listing (grid) component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-masonry.html" class="spectrum-SideNav-itemLink ">Masonry (grid) component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-massactions.html" class="spectrum-SideNav-itemLink ">MassActions component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-modal.html" class="spectrum-SideNav-itemLink ">Modal component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-multiline.html" class="spectrum-SideNav-itemLink ">Multiline component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-multiselect.html" class="spectrum-SideNav-itemLink ">Multiselect component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-multiselectcolumn.html" class="spectrum-SideNav-itemLink ">MultiselectColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-nav.html" class="spectrum-SideNav-itemLink ">Nav component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-onoffcolumn.html" class="spectrum-SideNav-itemLink ">OnOffColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-paging.html" class="spectrum-SideNav-itemLink ">Paging component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-radioset.html" class="spectrum-SideNav-itemLink ">Radioset component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-range.html" class="spectrum-SideNav-itemLink ">Range component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-search.html" class="spectrum-SideNav-itemLink ">Search component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-select.html" class="spectrum-SideNav-itemLink ">Select component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-selectcolumn.html" class="spectrum-SideNav-itemLink ">SelectColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-sizes.html" class="spectrum-SideNav-itemLink ">Sizes component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-sortby.html" class="spectrum-SideNav-itemLink ">SortBy component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-tab.html" class="spectrum-SideNav-itemLink ">Tab component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-text.html" class="spectrum-SideNav-itemLink ">Text component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-textarea.html" class="spectrum-SideNav-itemLink ">Textarea component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-thumbnailcolumn.html" class="spectrum-SideNav-itemLink ">ThumbnailColumn component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-timeline-columns.html" class="spectrum-SideNav-itemLink ">TimelineColumns component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-toolbar.html" class="spectrum-SideNav-itemLink ">ListingToolbar component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-treemassactions.html" class="spectrum-SideNav-itemLink ">TreeMassActions component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-urlinput.html" class="spectrum-SideNav-itemLink ">UrlInput component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-secondary-uiselect.html" class="spectrum-SideNav-itemLink ">UI-select component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../ui-wysiwyg.html" class="spectrum-SideNav-itemLink ">WYSIWYG component</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../add-custom-editor/index.html" class="spectrum-SideNav-itemLink ">Add Custom Editor</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../configure-tinymce-editor.html" class="spectrum-SideNav-itemLink ">Configure the TinyMCE editor</a></li><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="index.html" class="spectrum-SideNav-itemLink ">Extension Points</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Concepts</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_config_flow_concept.html" class="spectrum-SideNav-itemLink ">Configuration flow of UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_xmldeclaration_concept.html" class="spectrum-SideNav-itemLink ">About XML configuration of UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_data_source.html" class="spectrum-SideNav-itemLink ">Providing Data to UI Components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_modifier_concept.html" class="spectrum-SideNav-itemLink ">About PHP modifiers in UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_template_literals.html" class="spectrum-SideNav-itemLink ">Template Literals</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/knockout-bindings.html" class="spectrum-SideNav-itemLink ">Magento custom Knockout.js bindings</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/magento-bindings.html" class="spectrum-SideNav-itemLink ">Magento binding syntax</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_uiclass_concept.html" class="spectrum-SideNav-itemLink ">About the uiClass library</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_uielement_concept.html" class="spectrum-SideNav-itemLink ">About the uiElement class</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_uicollection_concept.html" class="spectrum-SideNav-itemLink ">About the uiCollection class</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_uilayout_concept.html" class="spectrum-SideNav-itemLink ">The uiLayout service object</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_linking_concept.html" class="spectrum-SideNav-itemLink ">Linking properties of UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../concepts/ui_comp_uiregistry.html" class="spectrum-SideNav-itemLink ">uiRegistry</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">How Tos</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../howto/add_category_attribute.html" class="spectrum-SideNav-itemLink ">Create and display a category attribute with UI components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../howto/update-url-type.html" class="spectrum-SideNav-itemLink ">Update the page URL type</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Troubleshoot</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../../../troubleshoot/ui_comp_troubleshoot_js.html" class="spectrum-SideNav-itemLink ">Debug UI components JavaScript</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  

  
  <div class="message-banner">
    This is a beta release of documentation for Magento 2.4, published for previewing soon-to-be-released functionality. Content in this version is subject to change. Links to the v2.4 code base may not properly resolve until the code is officially released.
  </div>
  

  

  

  <h1 class="page-title">WYSIWYG Extension Points</h1>

  

  <div class="github-links spectrum-ButtonGroup"><div class="github-link">
    <a class="improve-page spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/blob/master/src/guides/v2.4/ui_comp_guide/components/wysiwyg/extension-points/index.md" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS" src="https://devdocs.magento.com/assets/i/icons/edit.svg" alt="" />
      <span class="spectrum-ActionButton-label">Edit on GitHub</span> 
    </a>
  </div><div class="new-issue">
    <a class="spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.4/ui_comp_guide/components/wysiwyg/extension-points/" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS"  src="https://devdocs.magento.com/assets/i/icons/bug.svg" alt="" />
      <span class="spectrum-ActionButton-label">Log an Issue</span>
    </a>
  </div></div>


  



 

  

</section>

			</header>
			<main>
				<p>This topic goes over the extension points for Magento entities.
You can use these connection points to integrate Magento entities into third-party WYSIWYG editors.</p>

<p>See <a href="../add-custom-editor/index.html">Add a third-party editor</a> for instructions on how to add a third-party WYSIWYG editor to Magento.</p>

<h2 id="entity-integration">Entity Integration</h2>

<p>The specific steps needed to create an editor plugin vary between different editors, but
for most editors, it usually involves creating an icon or button for the plugin and executing JavaScript code when clicked.</p>

<p>Use the following steps as a starting point for integrating entities into your custom WYSIWYG editor.</p>

<h3 id="step-1-create-plugin-directory-structure">Step 1. Create plugin directory structure</h3>

<p>Create the appropriate plugin directory structure for the entity inside your editor’s directory.</p>

<p>For example, both TinyMCE3 and CKEditor editors both have a <code class="language-plaintext highlighter-rouge">plugins</code> directory that holds all available plugins.</p>

<p>This folder should be inside your module’s <code class="language-plaintext highlighter-rouge">/view/&lt;area&gt;</code> directory so it will be published to the <code class="language-plaintext highlighter-rouge">pub/static</code> directory.</p>

<h3 id="step-2-copy-editor-icon">Step 2. Copy editor icon</h3>

<p>Copy the appropriate icon file into your plugin’s specific icon or image directory:</p>

<p><strong>Variable</strong>: <code class="language-plaintext highlighter-rouge">lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/img/icon.png</code></p>

<p><strong>Widget</strong>: <code class="language-plaintext highlighter-rouge">lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentowidget/img/icon.png</code></p>

<p><strong>Media Gallery</strong>: No icon needed.</p>

<p>For example, in a CKEditor4 plugin, these icons would be found copied to the following locations:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">app/code/CKEditor/CKEditor4/view/base/web/js/ckeditor4/plugins/variable/icons/variable.png</code></li>
  <li><code class="language-plaintext highlighter-rouge">app/code/CKEditor/CKEditor4/view/base/web/js/ckeditor4/plugins/widget/icons/widget.png</code></li>
</ul>

<h3 id="step-3-implement-plugin-functionality">Step 3. Implement plugin functionality</h3>

<h4 id="variable-entity">Variable Entity</h4>

<p>Use the <a href="https://github.com/magento/magento2/blob/2.4/lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js"><code class="language-plaintext highlighter-rouge">MagentovariablePlugin</code></a> object to implement the plugin functionality for the variable entity.</p>

<p><strong>Example:</strong> <code class="language-plaintext highlighter-rouge">editor_plugin.js</code> for <code class="language-plaintext highlighter-rouge">magentovariable</code> in the TinyMCE3 module</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @param {tinymce.Editor} ed - Editor instance that the plugin is initialized in.
 * @param {String} url - Absolute URL to where the plugin is located.
 */</span>
<span class="nx">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ed</span><span class="p">,</span> <span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">mceMagentovariable</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">pluginSettings</span> <span class="o">=</span> <span class="nx">ed</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">magentoPluginsOptions</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">magentovariable</span><span class="dl">'</span><span class="p">);</span>

        <span class="nx">MagentovariablePlugin</span><span class="p">.</span><span class="nx">setEditor</span><span class="p">(</span><span class="nx">ed</span><span class="p">);</span>
        <span class="nx">MagentovariablePlugin</span><span class="p">.</span><span class="nx">loadChooser</span><span class="p">(</span><span class="nx">pluginSettings</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">ed</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">elements</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// Register Widget plugin button</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">addButton</span><span class="p">(</span><span class="dl">'</span><span class="s1">magentovariable</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">magentovariable.insert_variable</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">cmd</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mceMagentovariable</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">image</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/img/icon.gif</span><span class="dl">'</span>
    <span class="p">});</span>
<span class="p">},</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Example:</strong> <code class="language-plaintext highlighter-rouge">plugin.js</code> for <code class="language-plaintext highlighter-rouge">variable</code> plugin for CKEditor4</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Copyright © Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */</span>

<span class="cm">/* global CKEDITOR, MagentovariablePlugin, varienGlobalEvents, Base64 */</span>
<span class="cm">/* eslint-disable strict */</span>
<span class="nx">CKEDITOR</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">variable</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">icons</span><span class="p">:</span> <span class="dl">'</span><span class="s1">variable</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/**
     * Initialize editor plugin.
     */</span>
    <span class="na">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">editor</span><span class="p">)</span> <span class="p">{</span>

        <span class="cm">/**
         * Add new command to open variables selector slideout.
         */</span>
        <span class="nx">editor</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">openVariablesSlideout</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">exec</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">editor</span><span class="p">)</span> <span class="p">{</span>

                <span class="nx">require</span><span class="p">([</span>
                    <span class="dl">'</span><span class="s1">CKEditor_CKEditor4/js/ckeditor4/ckeditor</span><span class="dl">'</span>
                <span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ckeditor</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">//we need this code to transfer config</span>
                    <span class="kd">var</span> <span class="nx">pluginSettings</span> <span class="o">=</span> <span class="nx">ckeditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">magentoPluginsOptions</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">variable</span><span class="dl">'</span><span class="p">);</span>

                    <span class="nx">MagentovariablePlugin</span><span class="p">.</span><span class="nx">setEditor</span><span class="p">(</span><span class="nx">editor</span><span class="p">);</span>
                    <span class="nx">MagentovariablePlugin</span><span class="p">.</span><span class="nx">loadChooser</span><span class="p">(</span><span class="nx">pluginSettings</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">ckeditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">elements</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="cm">/**
         * Add button to the editor toolbar.
         */</span>
        <span class="nx">editor</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">addButton</span><span class="p">(</span><span class="dl">'</span><span class="s1">variable</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">label</span><span class="p">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">mage</span><span class="p">.</span><span class="nx">__</span><span class="p">(</span><span class="dl">'</span><span class="s1">Insert Variable</span><span class="dl">'</span><span class="p">),</span>
            <span class="na">command</span><span class="p">:</span> <span class="dl">'</span><span class="s1">openVariablesSlideout</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">toolbar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">insert</span><span class="dl">'</span>

        <span class="p">});</span>
    <span class="p">},</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>To integrate the default Magento UI for variable, you must have access to the following data:</p>

<ul>
  <li>backend URL to load the <code class="language-plaintext highlighter-rouge">variable_modal</code></li>
</ul>

<p><strong>Example:</strong> method that returns this url</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="kr">public</span> <span class="kd">function</span> <span class="nx">getVariablesWysiwygActionUrl</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nx">$this</span><span class="o">-&gt;</span><span class="nx">_url</span><span class="o">-&gt;</span><span class="nx">getUrl</span><span class="p">(</span><span class="dl">'</span><span class="s1">mui/index/render</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">namespace</span><span class="dl">'</span> <span class="o">=&gt;</span> <span class="dl">'</span><span class="s1">variables_modal</span><span class="dl">'</span><span class="p">]);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<ul>
  <li>htmlId of the WYSIWYG editor.
  For CKEditor4, you can get this by calling <code class="language-plaintext highlighter-rouge">editor.element.getId()</code>.</li>
</ul>

<h4 id="widget-entity">Widget Entity</h4>

<p>Use the global <a href="https://github.com/magento/magento2/blob/2.4/lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentowidget/editor_plugin.js"><code class="language-plaintext highlighter-rouge">widgetTools</code></a> object to implement the plugin functionality for the widget entity.</p>

<p><strong>Example:</strong> <code class="language-plaintext highlighter-rouge">editor_plugin.js</code> for <code class="language-plaintext highlighter-rouge">magentowidget</code> in the TinyMCE3 module</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @param {tinymceDeprecated.Editor} ed - Editor instance that the plugin is initialized in.
 * @param {String} url - Absolute URL to where the plugin is located.
 */</span>
<span class="nx">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ed</span><span class="p">,</span> <span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">mceMagentowidget</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">widgetTools</span><span class="p">.</span><span class="nx">openDialog</span><span class="p">(</span>
            <span class="nx">ed</span><span class="p">.</span><span class="nx">settings</span><span class="p">[</span><span class="dl">'</span><span class="s1">magentowidget_url</span><span class="dl">'</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">widget_target_id/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">ed</span><span class="p">.</span><span class="nx">getElement</span><span class="p">().</span><span class="nx">id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span>
        <span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// Register Widget plugin button</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">addButton</span><span class="p">(</span><span class="dl">'</span><span class="s1">magentowidget</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">magentowidget.insert_widget</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">cmd</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mceMagentowidget</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">image</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/img/icon.gif</span><span class="dl">'</span>
    <span class="p">});</span>

    <span class="c1">// Add a node change handler, selects the button in the UI when a image is selected</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">onNodeChange</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">edi</span><span class="p">,</span> <span class="nx">cm</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">widgetCode</span><span class="p">;</span>

        <span class="nx">widgetTools</span><span class="p">.</span><span class="nx">setEditMode</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="nx">cm</span><span class="p">.</span><span class="nx">setActive</span><span class="p">(</span><span class="dl">'</span><span class="s1">magentowidget</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">IMG</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//eslint-disable-line eqeqeq</span>
            <span class="nx">widgetCode</span> <span class="o">=</span> <span class="nx">Base64</span><span class="p">.</span><span class="nx">idDecode</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">widgetCode</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">{{widget</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">widgetTools</span><span class="p">.</span><span class="nx">setEditMode</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
                <span class="nx">cm</span><span class="p">.</span><span class="nx">setActive</span><span class="p">(</span><span class="dl">'</span><span class="s1">magentowidget</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="c1">// Add a widget placeholder image double click callback</span>
    <span class="nx">ed</span><span class="p">.</span><span class="nx">onDblClick</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">edi</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span>
        <span class="nx">widgetCode</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">IMG</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//eslint-disable-line eqeqeq</span>
            <span class="nx">widgetCode</span> <span class="o">=</span> <span class="nx">Base64</span><span class="p">.</span><span class="nx">idDecode</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">widgetCode</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">{{widget</span><span class="dl">'</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">widgetTools</span><span class="p">.</span><span class="nx">setEditMode</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
                <span class="nx">edi</span><span class="p">.</span><span class="nx">execCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">mceMagentowidget</span><span class="dl">'</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">},</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Example:</strong> <code class="language-plaintext highlighter-rouge">plugin.js</code> for <code class="language-plaintext highlighter-rouge">widget</code> plugin for CKEditor4</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * Copyright © Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */</span>

<span class="cm">/* global CKEDITOR, MagentovariablePlugin, varienGlobalEvents, Base64 */</span>
<span class="cm">/* eslint-disable strict */</span>
<span class="nx">CKEDITOR</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">widget</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">icons</span><span class="p">:</span> <span class="dl">'</span><span class="s1">widget</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/**
     * Initialize editor plugin.
     *
     * @param {tinymce.editor} editor - Editor instance that the plugin is initialized in.
     * @param {String} url - Absolute URL to where the plugin is located.
     */</span>
    <span class="na">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">editor</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nb">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

        <span class="nx">require</span><span class="p">([</span>
            <span class="dl">'</span><span class="s1">Magento_Variable/js/config-directive-generator</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">Magento_Variable/js/custom-directive-generator</span><span class="dl">'</span>
        <span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">configDirectiveGenerator</span><span class="p">,</span> <span class="nx">customDirectiveGenerator</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">self</span><span class="p">.</span><span class="nx">configDirectiveGenerator</span> <span class="o">=</span> <span class="nx">configDirectiveGenerator</span><span class="p">;</span>
            <span class="nb">self</span><span class="p">.</span><span class="nx">customDirectiveGenerator</span> <span class="o">=</span> <span class="nx">customDirectiveGenerator</span><span class="p">;</span>
        <span class="p">});</span>

        <span class="cm">/**
         * Add new command to open variables selector slideout.
         */</span>
        <span class="nx">editor</span><span class="p">.</span><span class="nx">addCommand</span><span class="p">(</span><span class="dl">'</span><span class="s1">mceMagentowidget</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">exec</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">editor</span><span class="p">)</span> <span class="p">{</span>

                <span class="nx">require</span><span class="p">([</span>
                    <span class="dl">'</span><span class="s1">CKEditor_CKEditor4/js/ckeditor4/ckeditor</span><span class="dl">'</span>
                <span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ckeditor</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">widgetTools</span><span class="p">.</span><span class="nx">openDialog</span><span class="p">(</span>
                        <span class="nx">ckeditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">[</span><span class="dl">'</span><span class="s1">widget_window_url</span><span class="dl">'</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">widget_target_id/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">editor</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">getId</span><span class="p">()</span><span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span>
                    <span class="p">);</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="cm">/**
         * Add button to the editor toolbar.
         */</span>
        <span class="nx">editor</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">addButton</span><span class="p">(</span><span class="dl">'</span><span class="s1">widget</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">label</span><span class="p">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">mage</span><span class="p">.</span><span class="nx">__</span><span class="p">(</span><span class="dl">'</span><span class="s1">Insert Widget</span><span class="dl">'</span><span class="p">),</span>
            <span class="na">command</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mceMagentowidget</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">toolbar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">insert</span><span class="dl">'</span>

        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>To integrate the default Magento UI for widgets, you need access to the following data:</p>

<ul>
  <li>The backend <code class="language-plaintext highlighter-rouge">widget_window_url</code> (<code class="language-plaintext highlighter-rouge">\Magento\Widget\Model\Widget\Config::getWidgetWindowUrl</code>)</li>
  <li>htmlId of the WYSIWYG editor.
  For CKEditor4, you can get this by calling <code class="language-plaintext highlighter-rouge">editor.element.getId()</code>.</li>
</ul>

<h4 id="media-gallery-entity">Media Gallery Entity</h4>

<p>Use the global <a href="https://github.com/magento/magento2/blob/2.4/lib/web/mage/adminhtml/browser.js"><code class="language-plaintext highlighter-rouge">MediabrowserUtility</code></a> object to implement or override image browsing functionality in the editor.</p>

<p><strong>Example:</strong> <code class="language-plaintext highlighter-rouge">tinymce3Adapter.js</code> in the TinyMCE3 module</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="cm">/**
 * @param {Object} o
 */</span>
<span class="nx">openFileBrowser</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">typeTitle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Select Images</span><span class="dl">'</span><span class="p">),</span>
        <span class="nx">storeId</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="dl">'</span><span class="s1">store_id</span><span class="dl">'</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">null</span> <span class="p">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="dl">'</span><span class="s1">store_id</span><span class="dl">'</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">frameDialog</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">win</span><span class="p">.</span><span class="nx">frameElement</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="dl">'</span><span class="s1">[role="dialog"]</span><span class="dl">'</span><span class="p">),</span>
        <span class="nx">wUrl</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">[</span><span class="dl">'</span><span class="s1">files_browser_window_url</span><span class="dl">'</span><span class="p">]</span> <span class="o">+</span>
            <span class="dl">'</span><span class="s1">target_element_id/</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">getId</span><span class="p">()</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span>
            <span class="dl">'</span><span class="s1">store/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">storeId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">mediaBrowserOpener</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">win</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">mediaBrowserTargetElementId</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">field</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">o</span><span class="p">.</span><span class="nx">type</span> <span class="o">!=</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">type</span> <span class="o">!=</span> <span class="dl">''</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//eslint-disable-line eqeqeq</span>
        <span class="nx">wUrl</span> <span class="o">=</span> <span class="nx">wUrl</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">type/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">o</span><span class="p">.</span><span class="nx">type</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">frameDialog</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">jQuery</span><span class="p">(</span><span class="dl">'</span><span class="s1">#mceModalBlocker</span><span class="dl">'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>

    <span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">mage/adminhtml/browser</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">MediabrowserUtility</span><span class="p">.</span><span class="nx">openDialog</span><span class="p">(</span><span class="nx">wUrl</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">typeTitle</span><span class="p">,</span> <span class="p">{</span>
            <span class="cm">/**
            * Closed.
            */</span>
            <span class="na">closed</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="nx">frameDialog</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
                <span class="nx">jQuery</span><span class="p">(</span><span class="dl">'</span><span class="s1">#mceModalBlocker</span><span class="dl">'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">},</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="step-4-register-plugin">Step 4. Register plugin</h4>

<p>Use the editor specific command or steps needed to register your plugin with the editor.</p>

<p>For example, TinyMCE3 has a <code class="language-plaintext highlighter-rouge">PluginManager.add()</code> method while CKEditor requires you to modify a configuration file.</p>

<h2 id="configuration">Configuration</h2>

<p>Configuration for the WYSIWYG editor and available entities is implemented in the following class:</p>

<p><a href="https://github.com/magento/magento2/blob/2.4/app/code/Magento/Cms/Model/Wysiwyg/Config.php"><code class="language-plaintext highlighter-rouge">Magento\Cms\Model\Wysiwyg\Config</code></a></p>

<p>This class has a <code class="language-plaintext highlighter-rouge">getConfig()</code> method that returns the all available configurations as an array.</p>

<p>The class that aggregates the data in the array is the configuration provider class:</p>

<p><code class="language-plaintext highlighter-rouge">Magento\Cms\Model\Wysiwyg\CompositeConfigProvider</code></p>

<p>In your module’s <a href="../../../../extension-dev-guide/build/di-xml-file.html"><code class="language-plaintext highlighter-rouge">di.xml</code></a> file, you can define a <a href="../../../../extension-dev-guide/build/di-xml-file.html#virtual-types">virtual type</a> of this class to substitute or modify the following configuration providers:</p>

<table>
  <thead>
    <tr>
      <th>Argument name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">variablePluginConfigProvider</code></td>
      <td>Provider for variable plugin configuration</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">widgetPluginConfigProvider</code></td>
      <td>Provider for widget plugin configuration</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">galleryConfigProvider</code></td>
      <td>Provider for the media gallery configuration</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">wysiwygConfigPostProcessor</code></td>
      <td>Provider for WYSIWYG editor configuration</td>
    </tr>
  </tbody>
</table>

<p>If your implementation does not require any modifications to the configuration, you can use the default implementation:</p>

<p><code class="language-plaintext highlighter-rouge">Magento\Cms\Model\WysiwygDefaultConfig</code></p>

<p><strong>Example di.xml file entry for TinyMCE3 editor:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"Magento\Cms\Model\Wysiwyg\CompositeConfigProvider"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arguments&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"wysiwygConfigPostProcessor"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"Magento_Tinymce3/tinymce3Adapter"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\Tinymce3\Model\Config\Wysiwyg\Config<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"variablePluginConfigProvider"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"Magento_Tinymce3/tinymce3Adapter"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\Tinymce3\Model\Config\Variable\Config<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"widgetPluginConfigProvider"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"Magento_Tinymce3/tinymce3Adapter"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\Tinymce3\Model\Config\Widget\Config<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"galleryConfigProvider"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"Magento_Tinymce3/tinymce3Adapter"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\Cms\Model\WysiwygDefaultConfig<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/arguments&gt;</span>
<span class="nt">&lt;/type&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="configuration-providers">Configuration providers</h3>

<p>Configuration providers are classes with a <code class="language-plaintext highlighter-rouge">getConfig()</code> method that returns the configuration for a specific entity.
These classes are implementations of the following interface:</p>

<p><code class="language-plaintext highlighter-rouge">Magento\Framework\Data\Wysiwyg\ConfigProviderInterface</code></p>

<p>The <code class="language-plaintext highlighter-rouge">name</code> attribute for the configuration provider in the <code class="language-plaintext highlighter-rouge">di.xml</code> entry must match the editor’s registered option value.
In the example provided, this value is <code class="language-plaintext highlighter-rouge">Magento_Tinymce3/tinymce3Adapter</code> defined in:</p>

<p><code class="language-plaintext highlighter-rouge">Magento\Tinymce3\Model\Config\Source\Wysiwyg\Editor</code></p>


			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="https://devdocs.magento.com/assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified" datetime="2019-11-27">
    Nov 27th, 2019
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="../../../../release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="../../../../release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2020 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://devdocs.magento.com/assets/js/app.min.js?ver=10"></script>
<script src="https://devdocs.magento.com/assets/js/editions.min.js?ver=10"></script>
<script src="https://devdocs.magento.com/assets/js/page-updated.min.js?ver=10"></script>





<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>



<script type="text/javascript" src="https://devdocs.magento.com/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

