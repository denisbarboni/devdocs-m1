<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="https://devdocs.magento.com/assets/css/app.css?ver=10" />
	<link rel="stylesheet" href="https://devdocs.magento.com/assets/css/print.css?ver=10" media="print"/>

	<link rel="stylesheet" href="https://devdocs.magento.com/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="https://devdocs.magento.com/feed.xml" />


<link rel="canonical" href="installing_upgrade_from-ee112.html" data-proofer-ignore />


<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.4", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs",
      baseUrl: "https://docs.magento.com/user-guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>



<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->

<script src="https://assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRCLXBB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="https://devdocs.magento.com/">
      <img class="logo-image" src="https://devdocs.magento.com/assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Magento</span>
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/bk-cloud.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-start.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-upgrade-parent.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/release-notes/cloud-tools.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-development.html" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-config.html" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-quick-reference.html" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/project/project-conf-files_magento-app.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/env/environments.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-mftf.html" class="spectrum-Menu-itemLabel ">Magento application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/cloud/docker/docker-test-magecloud-pkg-code.html" class="spectrum-Menu-itemLabel ">Magento Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/install-gde/bk-install-guide.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/extensions/" class="spectrum-Menu-itemLabel ">Magento Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/release-notes/bk-release-notes.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/contributor-guide/contributing.html" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/guides/v2.4/ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://magento.github.io/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with Magento Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/graphql/index.html" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/marketplace/eqp/v1/api.html" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/test/testing.html" class="spectrum-Menu-itemLabel ">Magento Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mftf/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/marketplace/sellers/getting-started.html" class="spectrum-Menu-itemLabel ">Extensions Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="http://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/payments-integrations/bk-payments-integrations.html" class="spectrum-Menu-itemLabel ">Payment Integrations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/recommendations/product-recs.html" class="spectrum-Menu-itemLabel ">Product Recommendations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/security/security-and-compliance.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../v2.4/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/community/resources/support.html" class="spectrum-Menu-itemLabel ">Magento Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/videos/" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      

      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <div class="dropdown-menu spectrum-Popover spectrum-Dropdown-popover spectrum-Popover--bottom dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-1">Developer</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-1">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="../../../index.html?itm_source=devdocs&amp;itm_medium=top_nav&amp;itm_campaign=app_switcher&amp;itm_term=Commerce&#32;Developer&#32;Documentation">Commerce Developer Documentation</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        </ul>
      </div>
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-2">Merchant</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-2">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/user-guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        </ul>
      </div>
      
      </div>
    </div>
  </div>
</div>


      <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form
  class="spectrum-Search search-form"
  action="https://devdocs.magento.com/search.html"
>
  <input
    type="search"
    placeholder="Looking for something specific?"
    name="query"
    value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control"
    autocomplete="off"
  />
  <svg
    class="spectrum-Icon spectrum-UIIcon-Magnifier spectrum-Search-icon"
    focusable="false"
    aria-hidden="true"
  >
    <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="search-clear spectrum-ClearButton spectrum-SearchClearButton">
    <svg
      class="spectrum-Icon spectrum-UIIcon-CrossSmall"
      focusable="false"
      aria-hidden="true"
    >
      <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
    </svg>
  </button>
</form>

</div>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title"></h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  

  

  

  

  <h1 class="page-title"></h1>

  

  <div class="github-links spectrum-ButtonGroup"><div class="github-link">
    <a class="improve-page spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/blob/master/install/installing_upgrade_from-ee112.html" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS" src="https://devdocs.magento.com/assets/i/icons/edit.svg" alt="" />
      <span class="spectrum-ActionButton-label">Edit on GitHub</span> 
    </a>
  </div><div class="new-issue">
    <a class="spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/m1x/install/installing_upgrade_from-ee112.html" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS"  src="https://devdocs.magento.com/assets/i/icons/bug.svg" alt="" />
      <span class="spectrum-ActionButton-label">Log an Issue</span>
    </a>
  </div></div>


  



 

  

</section>

			</header>
			<main>
				<!-- title: EE 1.14 Upgrade: Running the EE 1.12 and Earlier URL Redirect Script -->
<!-- URL: ee-112-and-earlier-url-redirect-script -->

<html lang=en>

<head>
    <meta charset=utf-8>

    <link rel="stylesheet" type="text/css" href="../../../common/css/stylesheet.css"/>
    <link rel="stylesheet" href="../../../common/css/stylesheet-fonts.css" type="text/css" charset="utf-8">
    <link rel="icon" href="../../../common/css/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../../../common/css/favicon.ico" type="image/x-icon">
    <title>EE 1.14 Upgrade: Running the EE 1.12 and Earlier URL Redirect Script</title>

</head>

<body>

<img src="../images/m1xheader.png" width="1024" alt="header" />
<div class="message-banner">
  <h4>Magento 1.x Software Support Notice</h4>
  <p>
    For Magento Commerce 1, Magento is providing software support through June 2020. Depending on your Magento Commerce 1 version, software support may include both quality fixes and security patches. Please review our <a href="https://magento.com/sites/default/files/magento-software-lifecycle-policy.pdf">Magento Software Lifecycle Policy</a> to see how your version of Magento Commerce 1 is supported.
  </p>
  <p>
  	For Magento Open Source 1.5 to 1.9, Magento is providing software security patches through June 2020 to ensure those sites remain secure and compliant. Visit our <a href="https://info2.magento.com/M1OpenSource.html">information page</a> for more details about our software maintenance policy and other considerations for your business.
  </p>
</div>


<div id="content"> 

<h1>EE 1.14 Upgrade: Running the EE 1.12 and Earlier URL Redirect Script </h1>

<p>This article is part of the Magento Enterprise Edition (EE) upgrade documentation. If you're looking for something else, <a href="http://www.magentocommerce.com/resources/magento-user-guide" target="_blank">click here</a> to go back to the Magento Knowledge Base.</p>
<p>This article applies to the following Magento EE upgrades:</p>
<ul><li>From EE 1.12.x or earlier to EE 1.13.0.2</li>
<li>From EE 1.12.x or earlier to EE 1.13.1.0</li>
<li>From EE 1.12.x or earlier to EE 1.14.0.0</li></ul>
<p>If your upgrade is not in the preceding list, go back to <a href="installing_upgrade_details.html">Upgrading to and Verifying Magento Community Edition (CE) 1.8 and Enterprise Edition (EE) 1.13</a>.</p>
<p>This article discusses how to run the URL redirect script that creates HTTP 301 (Moved Permanently) redirects for any duplicate product URL keys. This enables <strong>Previous</strong> links in your web store to work, for example.</p>
<!-- <p>To run the URL redirect script, see <a href="/guides/m1x/install/installing_upgrade_from-ee112.html" target="_blank">EE 1.14 Upgrade: Running the EE 1.12 and Earlier URL Redirect Script</a>. When you're done, continue with the next section. -->
<p>To create redirects for your URLs, perform the following tasks in the order shown:</p>
<ol><li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-cron-verify">Verifying that cron is Disabled</a></li>
<li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-indexer">Changing Indexer Settings to Update When Scheduled</a></li>
<!-- <li><a href="#upgrade-manual-post-upgrade-11302-clear">Flushing the Cache</a></li>
<li><a href="#upgrade-manual-post-upgrade-11302-reindex">Reindexing</a></li> -->
<li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-run">Running the URL Redirect Script</a></li>
<li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-full-reindex">Running a Full Reindex from the Command Line</a></li>
<li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-view-redirs">Viewing the List of Redirects</a></li>
<li><a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-verify">Verifying That URLs Work Properly</a></li>
<li><a href="installing_upgrade_from-ee112.html#complete-upgrade">Completing Your Upgrade</a></li></ol>

<h2 id="upgrade-manual-post-upgrade-11302-cron-verify">Verifying that cron is Disabled</h2>
<p>It's very important to stop cron jobs from running until after the upgrade script completes. To do so, enter one of the following commands as a user with <code>root</code> privileges:</p>
<ul><li>Ubuntu: <code>service crond stop</code></li>
<li>CentOS: <code>service cron stop</code></li></ul>

<h2 id="upgrade-manual-post-upgrade-11302-indexer">Changing Indexer Settings to Update When Scheduled</h2>
<p>To change indexer settings:</p>
<ol><li>Click <strong>System</strong> > <strong>Configuration</strong>.</li>
<li>In the left navigation bar, in the ADVANCED group, click <strong>Index Management</strong>.</li>
<li>In the right pane, expand <strong>Index Options</strong>.</li>
<li>Click <strong>Update when scheduled</strong> from the list for every indexer.<br />
The following figure shows an example.<br />
<img src="../images/upgrade_index-management_when-scheduled.png" width="600px" height="258px"></li>
<li>In the upper right corner, click <strong>Save Config</strong>.<br />
<div class="msg-box important"><img src="../images/icon-note.png" alt="note" align="left" width="40"><span><strong>Note</strong>: Ignore any messages requesting you to reindex or flush the cache; you'll do that later.</div></li>
<li>Log out of the Admin Panel.</li>
<li>If the script ran without errors, continue with <a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-run">Running the URL Redirect Script</a>.</li></ol>

<!-- <h2 id="upgrade-manual-post-upgrade-11302-clear">Flushing the Cache</h2>
<p>To flush the cache before running the URL redirect script:</p>
<ol><li>In the Admin Panel, click <strong>System</strong> > <strong>Cache Management</strong>.</li>
<li>Click <strong>Flush Magento Cache</strong>.</li>
<li>Log out of the Admin Panel.</li></ol>

<h2 id="upgrade-manual-post-upgrade-11302-reindex">Reindexing</h2>
<p>If messages display in the Admin Panel indicating you need to reindex:</p>
<ol><li>In the Admin Panel, click <strong>System</strong> > <strong>Index Management</strong>.</li>
<li>Click the <strong>Reindex Data</strong> next to each indexer whose status is Reindex Required.</li></ol> -->

<h2 id="upgrade-manual-post-upgrade-11302-run">Running the URL Redirect Script</h2>
<p>This section discusses how to run the URL redirect script to create permanent redirects for any URLs that changed in EE 1.13.1.0.</p>
<div class="msg-box important"><img src="../images/icon-note.png" alt="note" align="left" width="40"><span><strong>Note</strong>: The time the script takes to run and the amount of memory it uses is directly proportional to the size of your database. If your database has 100,000 SKUs or more, Magento <em>strongly recommends</em> you monitor thread execution as discussed in this section. For large databases, the script can require several hours to complete.</div>

<p>To run the script:</p>
<ol><li>Change to your Magento installation directory.</li>
<li>As the user who owns the files (typically, either <code>root</code> or the web server user), enter the following command:<br />
<pre>php -f shell/url_migration_to_1_13.php - <em>thread-count</em></pre>
where<br />
<em>thread_count</em> is the number of threads to use. Magento recommends setting this to the number of CPU cores in your system minus 1 to a maximum of 15. For example, if your system has 8 CPU cores, enter
<pre>php -f shell/url_migration_to_1_13.php 7</pre>
<div class="msg-box important"><img src="../images/icon-note.png" alt="note" align="left" width="40"><span><strong>Note</strong>: Each thread can use up to 512MB of RAM.</div></li>
<li>Wait while the script runs.<br />
Messages like the following display to indicate progress: <br />
<pre>[INFO]: Initialization...
[INFO]: Renaming conflicting entities...
100% [#################################################################################]
[INFO]: Creating redirects from previous version...
100% [#################################################################################]
ETA <em>HH:MM:SS</em></pre></li>
<li>If you have a large database, open another command window and run the following command:<br />
<pre>watch -n1 "ps ax | grep umt | grep -v grep"</pre>
This command helps you to determine if each thread behaves correctly. After each process finishes, a new process should start immediately. There should be no delays or "hangs" between processes.</li>
<li>If the script runs successfully, continue with <a href="installing_upgrade_from-ee112.html#upgrade-manual-post-upgrade-11302-full-reindex">Running a Full Reindex from the Command Line</a>.</li></ol>
<p>If errors display, check <code>[your Magento install dir]/shell/migration.log</code> for exceptions and see the following table.</p>
<p><strong>Troubleshooting</strong></p>
<table>
<col width="25%">
<col width="75%">
<tbody>
<tr>
  <th>Symptom</th>
  <th>Suggested action</th>
</tr>
<tr>
  <td><code>ERROR: Scope of attribute "url_key" is set to Global. This may cause DB inconsistency. Aborting.</code></td>
  <td><p>This error can be caused by either a product or category <code>url_key</code> attribute being set for Global scope. To determine which type of <code>url_key</code> attribute is causing the error:</p>
  <ol><li>Log in as an administrator to the Admin Panel of the production system (in other words, the system you're upgrading <em>from</em>).</li>
  <li>Click <strong>Catalog</strong> > <strong>Attributes</strong> > <strong>Manage Attributes</strong>.</li>
  <li>Click the <strong>url_key</strong> row.</li>
  <li>Examine the value of the <strong>Scope</strong> list. A sample follows.<br />
  <img src="../images/index-management_product-url-key-attrib.png"></li>
  <li>If the value in the <strong>Scope</strong> list is <strong>Global</strong>:
  <ol><li style="list-style-type:lower-alpha">Select another value from the list. You can select any value <em>other than</em> <strong>Global</strong>.</li>
  <li style="list-style-type:lower-alpha">Click <strong>Save Attribute</strong>.</li>
  <li style="list-style-type:lower-alpha">Log out of the Admin Panel.</li>
  <li style="list-style-type:lower-alpha">Re-export the database as discussed in <a href="installing_upgrade_details.html#prereq-tasks-prod-backup-db" target="_blank">Backing Up the Database</a>.</li>
  <li style="list-style-type:lower-alpha">In the development system, drop and re-create the database as discussed in <a href="installing_upgrade_details.html#prereq-tasks-dev" target="_blank">Pre-Upgrade Tasks for Your Development Environment</a>.</li>
  <li style="list-style-type:lower-alpha">Import the database you just exported as discussed in <a href="installing_upgrade_details.html#upgrade-manual-db" target="_blank">Updating the Magento Database</a>.</li>
  <li style="list-style-type:lower-alpha">Try running the upgrade script again.</li></ol>
  </li>
  <li>If the value of the <strong>Scope</strong> list is <em>not</em> <strong>Global</strong>, the issue is likely that the category <code>url_key</code> attribute is set to global. To confirm this:
  <ol><li style="list-style-type:lower-alpha">Log out of the Admin Panel.</li>
  <li style="list-style-type:lower-alpha">In the development database instance, use either the MySQL command line or phpmyadmin to get the value of <code>is_global</code> from the <code>catalog_eav_attribute</code> table. If the value is <code>1</code>, your catalog <code>url_key</code> attribute is set to Global.<br />
  Following is an example of finding the value using the MySQL command line:<br />
  <pre>select attribute_id, is_global from catalog_eav_attribute /
  where attribute_id in (select attribute_id from eav_attribute /
  where attribute_code = 'url_key');</pre><br />
  <strong>Note:</strong> The command must be entered on a single line. It is shown here on multiple lines because of space limitations. When you enter the command, omit the <code>/</code> characters.</li>
  <li style="list-style-type:lower-alpha">If any returned value is <code>1</code>, you must contact <a href="http://support.magentocommerce.com" target="_blank">Magento Support</a>.</li></ol>
</li></ol></td>
</tr>
<tr>
  <td>Other errors</td>
  <td>Try running the script again. If errors persist, contact <a href="http://support.magentocommerce.com" target="_blank">Magento Support</a>.</td>
</tbody>
</table>

<h2 id="upgrade-manual-post-upgrade-11302-full-reindex">Running a Full Reindex from the Command Line</h2>
<p>After successfully running the URL redirect script, enter the following command from the Magento root directory:</p>
<pre>php -f shell/indexer.php --reindexall</pre>
<p>This command runs a full reindex and it might take a long time, depending on the size of your database.</p>
<p>After the reindex completes, enter the following command from your Magento installation directory:</p>
<pre>rm -rf var/cache var/full_page_cache var/locks</pre>

<h2 id="upgrade-manual-post-upgrade-11302-view-redirs">Viewing the List of Redirects</h2>
<p>As a result of running the URL redirect script, a list of redirects created for duplicate URL keys displays in the Admin Panel. To view these redirects:</p>
<ol><li>Log in to the Admin Panel as an administrator.</li>
<li>Click <strong>Catalog</strong> > <strong>URL Redirects</strong>.</li>
<li>To optionally sort results by description, click the <strong>Description</strong> column.<br />
All redirects created by the URL redirect script display the following description:<br />
<pre>1.12.0.2-1.13.x migration redirect</pre>
The following figure shows an example.<br />
<img src="../images/upgrade_url-redirects.png" width="600px" height="159px"></li></ol>

<h2 id="upgrade-manual-post-upgrade-11302-verify">Verifying That URLs Work Properly</h2>
<p>Assuming all your post-upgrade issues are fixed, go to your web store and navigate the category tree. Click some products and make sure they display properly. Verify that all <strong>Previous</strong> and <strong>Back</strong> links work properly.</p>

<h2 id="complete-upgrade">Completing Your Upgrade</h2>
<p>Complete your upgrade:</p>
<ol><li><a href="installing_install.html#install-cron" target="_blank">Setting Up the Magento Cron Job</a></li>
<li><a href="installing_upgrade_details.html#upgrade-manual-var">Clearing Magento var/ Subdirectories</a></li>
<li>Complete the remainder of the tasks on that page in the order shown</li></ol>

</div>
</body>
</html>
			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="https://devdocs.magento.com/assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified" datetime="2020-06-01">
    Jun 1st, 2020
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="../../v2.4/release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="../../v2.4/release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2020 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://devdocs.magento.com/assets/js/app.min.js?ver=10"></script>
<script src="https://devdocs.magento.com/assets/js/editions.min.js?ver=10"></script>
<script src="https://devdocs.magento.com/assets/js/page-updated.min.js?ver=10"></script>





<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>



<script type="text/javascript" src="https://devdocs.magento.com/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

