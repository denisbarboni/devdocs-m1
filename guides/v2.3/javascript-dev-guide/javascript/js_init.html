<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Calling and initializing JavaScript | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="../../../../assets/css/app.css?ver=10" />
	<link rel="stylesheet" href="../../../../assets/css/print.css?ver=10" media="print"/>

	<link rel="stylesheet" href="../../../../common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="../../../../feed.xml" />


<link rel="canonical" href="../../../v2.4/javascript-dev-guide/javascript/js_init.html" data-proofer-ignore />


<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.3", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs",
      baseUrl: "https://docs.magento.com/user-guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>



<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->

<script src="http://assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRCLXBB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="http://devdocs.magento.com/guides/v2.3/">
      <img class="logo-image" src="../../../../assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Magento</span>
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/bk-cloud.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-start.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-upgrade-parent.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/release-notes/cloud-tools.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-development.html" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-config.html" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-quick-reference.html" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-conf-files_magento-app.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/env/environments.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-mftf.html" class="spectrum-Menu-itemLabel ">Magento application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-test-magecloud-pkg-code.html" class="spectrum-Menu-itemLabel ">Magento Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../install-gde/bk-install-guide.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../extensions/index.html" class="spectrum-Menu-itemLabel ">Magento Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../release-notes/bk-release-notes.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../contributor-guide/contributing.html" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://magento.github.io/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with Magento Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../graphql/index.html" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../marketplace/eqp/v1/api.html" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/testing.html" class="spectrum-Menu-itemLabel ">Magento Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../mftf/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../marketplace/sellers/getting-started.html" class="spectrum-Menu-itemLabel ">Extensions Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="http://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../payments-integrations/bk-payments-integrations.html" class="spectrum-Menu-itemLabel ">Payment Integrations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../recommendations/product-recs.html" class="spectrum-Menu-itemLabel ">Product Recommendations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../security/security-and-compliance.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../community/resources/support.html" class="spectrum-Menu-itemLabel ">Magento Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../videos/index.html" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher spectrum-Dropdown">

	<button id="version-switcher-button" class="spectrum-FieldButton spectrum-Dropdown-trigger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		<span class="spectrum-Dropdown-label">Magento 2.3</span>
    <i class="spectrum-Icon spectrum-UIIcon-ChevronDownMedium spectrum-Dropdown-icon" focusable="false" aria-hidden="true"></i>
  </button>

	<div class="dropdown-menu spectrum-Popover spectrum-Popover--bottom spectrum-Dropdown-popover">
		<ul class="dropdown-menu-left spectrum-Menu" aria-labelledby="version-switcher-button">
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="js_init.html">Magento 2.3</a></li>
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="http://devdocs.magento.com/guides/v2.4/javascript-dev-guide/javascript/js_init.html">Magento 2.4</a></li>
			
		</ul>
	</div>
	
</div>

      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <div class="dropdown-menu spectrum-Popover spectrum-Dropdown-popover spectrum-Popover--bottom dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-1">Developer</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-1">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="../../../../index.html?itm_source=devdocs&amp;itm_medium=top_nav&amp;itm_campaign=app_switcher&amp;itm_term=Commerce&#32;Developer&#32;Documentation">Commerce Developer Documentation</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        </ul>
      </div>
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-2">Merchant</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-2">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/user-guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        </ul>
      </div>
      
      </div>
    </div>
  </div>
</div>


      <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form
  class="spectrum-Search search-form"
  action="http://devdocs.magento.com/search.html"
>
  <input
    type="search"
    placeholder="Looking for something specific?"
    name="query"
    value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control"
    autocomplete="off"
  />
  <svg
    class="spectrum-Icon spectrum-UIIcon-Magnifier spectrum-Search-icon"
    focusable="false"
    aria-hidden="true"
  >
    <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="search-clear spectrum-ClearButton spectrum-SearchClearButton">
    <svg
      class="spectrum-Icon spectrum-UIIcon-CrossSmall"
      focusable="false"
      aria-hidden="true"
    >
      <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
    </svg>
  </button>
</form>

</div>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">JavaScript Developer Guide</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../bk-javascript-dev-guide.html" class="spectrum-SideNav-itemLink ">Introduction</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../conventions_js.html" class="spectrum-SideNav-itemLink ">Conventional notations used in this Guide</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="js_overview.html" class="spectrum-SideNav-itemLink ">JavaScript</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="js-resources.html" class="spectrum-SideNav-itemLink ">JavaScript resources in Magento</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="requirejs.html" class="spectrum-SideNav-itemLink ">RequireJS in Magento</a></li><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="js_init.html" class="spectrum-SideNav-itemLink ">Calling and initializing JavaScript</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="product-frontend-storage.html" class="spectrum-SideNav-itemLink ">Frontend product repository</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="custom_js.html" class="spectrum-SideNav-itemLink ">Use custom JavaScript</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="js_debug.html" class="spectrum-SideNav-itemLink ">Locate JavaScript components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="js_practice.html" class="spectrum-SideNav-itemLink ">Customizing JavaScript illustration</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="js_mixins.html" class="spectrum-SideNav-itemLink ">Using JavaScript mixins</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/jquery-widgets-about.html" class="spectrum-SideNav-itemLink ">Magento jQuery widgets</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_accordion.html" class="spectrum-SideNav-itemLink ">Accordion widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_alert.html" class="spectrum-SideNav-itemLink ">Alert widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-breadcrumbs.html" class="spectrum-SideNav-itemLink ">Breadcrumbs widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_calendar.html" class="spectrum-SideNav-itemLink ">Calendar widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_collapsible.html" class="spectrum-SideNav-itemLink ">Collapsible widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_confirm.html" class="spectrum-SideNav-itemLink ">Confirmation widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_dropdown.html" class="spectrum-SideNav-itemLink ">Dropdown widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_dialog.html" class="spectrum-SideNav-itemLink ">DropdownDialog widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-folder-tree.html" class="spectrum-SideNav-itemLink ">FolderTree widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_gallery.html" class="spectrum-SideNav-itemLink ">Gallery widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_list.html" class="spectrum-SideNav-itemLink ">List widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_loader.html" class="spectrum-SideNav-itemLink ">Loader widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_gallery_mg.html" class="spectrum-SideNav-itemLink ">Magnifier widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-media-uploader.html" class="spectrum-SideNav-itemLink ">MediaUploader widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_menu.html" class="spectrum-SideNav-itemLink ">Menu widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_modal.html" class="spectrum-SideNav-itemLink ">Modal widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-multiselect.html" class="spectrum-SideNav-itemLink ">Multiselect widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_navigation.html" class="spectrum-SideNav-itemLink ">Navigation widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_password_strength_indicator.html" class="spectrum-SideNav-itemLink ">PasswordStrengthIndicator widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-popup-window.html" class="spectrum-SideNav-itemLink ">PopupWindow widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_prompt.html" class="spectrum-SideNav-itemLink ">Prompt widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_quickSearch.html" class="spectrum-SideNav-itemLink ">QuickSearch widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_redirectUrl.html" class="spectrum-SideNav-itemLink ">RedirectUrl widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-remaining-characters.html" class="spectrum-SideNav-itemLink ">RemainingCharacters widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-row-builder.html" class="spectrum-SideNav-itemLink ">RowBuilder widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-sortable.html" class="spectrum-SideNav-itemLink ">Sortable widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="http://devdocs.magento.com/guides/v2.3/javascript-dev-guide/widgets/widget_sticky.html" class="spectrum-SideNav-itemLink ">Sticky widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_tabs.html" class="spectrum-SideNav-itemLink ">Tabs widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget_toggle.html" class="spectrum-SideNav-itemLink ">ToggleAdvanced widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../widgets/widget-trim-input.html" class="spectrum-SideNav-itemLink ">TrimInput widget</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  

  

  

  

  <h1 class="page-title">Calling and initializing JavaScript</h1>

  

  <div class="github-links spectrum-ButtonGroup"><div class="github-link">
    <a class="improve-page spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/blob/master/src/guides/v2.3/javascript-dev-guide/javascript/js_init.md" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS" src="../../../../assets/i/icons/edit.svg" alt="" />
      <span class="spectrum-ActionButton-label">Edit on GitHub</span> 
    </a>
  </div><div class="new-issue">
    <a class="spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.3/javascript-dev-guide/javascript/js_init.html" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS"  src="../../../../assets/i/icons/bug.svg" alt="" />
      <span class="spectrum-ActionButton-label">Log an Issue</span>
    </a>
  </div></div>


  



 

  

</section>

			</header>
			<main>
				<h2 id="js_init_overview">Overview</h2>

<p>This topic describes different ways to call and initialize JavaScript in Magento 2:</p>

<ul>
  <li>Insert a <a href="../bk-javascript-dev-guide.html#js_terms">JavaScript component</a> in <code class="language-plaintext highlighter-rouge">.phtml</code> page templates.</li>
  <li>Call Javascript components that require initialization in Javascript (<code class="language-plaintext highlighter-rouge">.js</code>) files.</li>
</ul>

<p>We strongly recommend that you use the described approaches and do not add inline <a href="https://glossary.magento.com/javascript">JavaScript</a>.</p>

<h2 id="init_phtml">Insert a JS component in a PHTML template</h2>

<p>Depending on your task, you can use declarative or imperative notation to insert a JS component into a PHTML template. Use declarative notation if a component requires initialization and imperative notation in other cases.</p>

<h3 id="declarative-notation">Declarative notation</h3>

<p>Using the declarative notation to insert a JS component prepares all the configuration on the <a href="https://glossary.magento.com/backend">backend</a> and outputs it to page source using standard tools. Use declarative notation if your JavaScript component requires initialization.</p>

<p>In Magento 2, you have two options for specifying declarative notation:</p>

<ul>
  <li>
    <p>Using the <code class="language-plaintext highlighter-rouge">data-mage-init</code> attribute</p>

    <blockquote>
      <p>This is used to target a specific HTML element. It is easier to implement and is commonly used for jQuery UI widgets. This method can only be implemented on the specified HTML tag. For example, <code class="language-plaintext highlighter-rouge">&lt;nav data-mage-init='{ "&lt;component_name&gt;": {...} }'&gt;&lt;/nav&gt;</code>. This is preferred for its concise syntax, and direct access to the HTML element.</p>
    </blockquote>
  </li>
  <li>
    <p>Using the <code class="language-plaintext highlighter-rouge">&lt;script type="text/x-magento-init"&gt; ... &lt;/script&gt;</code> tag</p>

    <blockquote>
      <p>This is used to target either a CSS selector or <code class="language-plaintext highlighter-rouge">*</code>. If the CSS selector matches multiple HTML elements, the script will run for each matched HTML element. For <code class="language-plaintext highlighter-rouge">*</code>, no HTML element is selected and the script will run once with the HTML DOM as its target. This method can be implemented from anywhere in the codebase to target any HTML element. This is preferred when direct access to the HTML element is restricted, or when there is no target HTML element.</p>
    </blockquote>
  </li>
</ul>

<h4 id="data_mage_init">Declarative notation using the <code class="language-plaintext highlighter-rouge">data-mage-init</code> attribute</h4>

<p>Use the <code class="language-plaintext highlighter-rouge">data-mage-init</code> attribute to insert a JS component in a specified HTML element. The following example inserts a JS component in the <code class="language-plaintext highlighter-rouge">&lt;nav/&gt;</code> element:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;nav</span> <span class="na">data-mage-init=</span><span class="s">'{ "&lt;component_name&gt;": {...} }'</span><span class="nt">&gt;&lt;/nav&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>When the Javascript is inserted into the specified element, the script is called only for this particular element. It is not automatically called for other elements of this type on the page.</p>

<h5 id="init_process">How <code class="language-plaintext highlighter-rouge">data-mage-init</code> is processed</h5>

<p>On DOM ready, the <code class="language-plaintext highlighter-rouge">data-mage-init</code> attribute is parsed to extract component names and configuration to be applied to the element. Depending on the type of the inserted JS component, processing is performed as follows:</p>

<ul>
  <li>If an object is returned, the initializer tries to find the <code class="language-plaintext highlighter-rouge">&lt;component_name&gt;</code> key. If the corresponding value is a function, the initializer passes the <code class="language-plaintext highlighter-rouge">config</code> and <code class="language-plaintext highlighter-rouge">element</code> values to this function. For example:</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>  <span class="k">return</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">&lt;component_name&gt;</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="nx">element</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
  <span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>If a function is returned, the initializer passes the <code>config</code> and <code>element</code> values to this function. For example:</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="nx">element</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>If neither a function nor an object with the <code class="language-plaintext highlighter-rouge">"&lt;component_name&gt;"</code> key are returned, then the initializer tries to search for <code class="language-plaintext highlighter-rouge">"&lt;component_name&gt;"</code> in the jQuery prototype. If found, the initializer applies it as <code class="language-plaintext highlighter-rouge">$(element).&lt;component_name&gt;;(config)</code>. For example:</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="o">&lt;</span><span class="nx">component_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">};</span>
  <span class="k">return</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>If none of the previous cases is true, the component is executed with no further processing. Such a component does not require either <code class="language-plaintext highlighter-rouge">config</code> or <code class="language-plaintext highlighter-rouge">element</code>. The recommended way to declare such components is <a href="js_init.html#init_script">using the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag</a>.</li>
</ul>

<h4 id="decl_tag">Declarative notation using the <code class="language-plaintext highlighter-rouge">&lt;script type="text/x-magento-init"&gt;</code> tag</h4>

<p>To call a JS component on an HTML element without direct access to the element or with no relation to a certain element, use the <code class="language-plaintext highlighter-rouge">&lt;script type="text/x-magento-init"&gt;</code> tag and attribute syntax shown in the following example.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-magento-init"</span><span class="nt">&gt;</span>
<span class="p">{</span>
    <span class="c1">// components initialized on the element defined by selector</span>
    <span class="dl">"</span><span class="s2">&lt;element_selector&gt;</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">&lt;js_component1&gt;</span><span class="dl">"</span><span class="p">:</span> <span class="p">...,</span>
        <span class="dl">"</span><span class="s2">&lt;js_component2&gt;</span><span class="dl">"</span><span class="p">:</span> <span class="p">...</span>
    <span class="p">},</span>
    <span class="c1">// components initialized without binding to an element</span>
    <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">&lt;js_component3&gt;</span><span class="dl">"</span><span class="p">:</span> <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Where:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;element_selector&gt;</code> is a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector">selector</a> (in terms of querySelectorAll) for the element on which the following JS components are called.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;js_component1&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;js_component2&gt;</code> are the JS components being initialized on the element with the selector specified as <code class="language-plaintext highlighter-rouge">&lt;element_selector&gt;</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;js_component3&gt;</code> is the JS component called with no binding to an element.</li>
</ul>

<p>The following example provides a working code sample of a widget call using <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>. Here the <code class="language-plaintext highlighter-rouge">accordion</code> and <code class="language-plaintext highlighter-rouge">navigation</code> widgets are added to the element with the <code class="language-plaintext highlighter-rouge">#main-container</code> selector, and the <code class="language-plaintext highlighter-rouge">pageCache</code> script is inserted with no binding to any element.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-magento-init"</span><span class="nt">&gt;</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">#main-container</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">navigation</span><span class="dl">"</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">?</span><span class="nx">php</span> <span class="nx">echo</span> <span class="nx">$block</span><span class="o">-&gt;</span><span class="nx">getNavigationConfig</span><span class="p">();</span> <span class="p">?</span><span class="o">&gt;</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">accordion</span><span class="dl">"</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">?</span><span class="nx">php</span> <span class="nx">echo</span> <span class="nx">$block</span><span class="o">-&gt;</span><span class="nx">getNavigationAccordionConfig</span><span class="p">();</span> <span class="p">?</span><span class="o">&gt;</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">pageCache</span><span class="dl">"</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">?</span><span class="nx">php</span> <span class="nx">echo</span> <span class="nx">$block</span><span class="o">-&gt;</span><span class="nx">getPageCacheConfig</span><span class="p">();</span> <span class="p">?</span><span class="o">&gt;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="init_script">Imperative notation</h3>

<p>Use imperative notation in the PHTML template to include raw JavaScript code on the pages to execute specified business logic. This method uses the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag without the <code class="language-plaintext highlighter-rouge">type="text/x-magento-init"</code> attribute as shown in the following example:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;script&gt;</span>
<span class="nx">require</span><span class="p">([</span>
    <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">accordion</span><span class="dl">'</span>  <span class="c1">// the alias for "mage/accordion"</span>
<span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="c1">// to ensure that code evaluates on page load</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-role=example]</span><span class="dl">'</span><span class="p">)</span>  <span class="c1">// we expect that page contains the </span><span class="o">&lt;</span><span class="nx">tag</span> <span class="nx">data</span><span class="o">-</span><span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">example</span><span class="dl">"</span><span class="o">&gt;</span><span class="p">..</span><span class="o">&lt;</span><span class="sr">/tag&gt; marku</span><span class="err">p
</span>            <span class="p">.</span><span class="nx">accordion</span><span class="p">({</span> <span class="c1">// now we can use "accordion" as jQuery plugin</span>
                <span class="na">header</span><span class="p">:</span>  <span class="dl">'</span><span class="s1">[data-role=header]</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">content</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[data-role=content]</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">trigger</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[data-role=trigger]</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">ajaxUrlElement</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a</span><span class="dl">"</span>
            <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="js_widget_init">Calling JS components requiring initialization in JS files</h2>

<p>To call a widget with JS code, use a notation similar to the (<a href="../widgets/widget_accordion.html">accordion</a> widget. It is initialized on the <code class="language-plaintext highlighter-rouge">[data-role=example]</code> element as below):</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-role=example]</span><span class="dl">'</span><span class="p">).</span><span class="nx">accordion</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>To initialize a <a href="https://glossary.magento.com/widget">widget</a> with options, use notation similar to the following:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="c1">// to ensure that code evaluates on page load</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-role=example]</span><span class="dl">'</span><span class="p">)</span>  <span class="c1">// we expect that page contains markup &lt;tag data-role="example"&gt;..&lt;/tag&gt;</span>
        <span class="p">.</span><span class="nx">accordion</span><span class="p">({</span> <span class="c1">// now we can use "accordion" as jQuery plugin</span>
            <span class="na">header</span><span class="p">:</span>  <span class="dl">'</span><span class="s1">[data-role=header]</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">content</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[data-role=content]</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">trigger</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[data-role=trigger]</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">ajaxUrlElement</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span>
        <span class="p">});</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>In a similar way, you can initialize any JS component that a returns callback function accepting a <code class="language-plaintext highlighter-rouge">config</code> object and <code class="language-plaintext highlighter-rouge">element</code> (a DOM node).</p>

<p>For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nx">define</span> <span class="p">([</span>
    <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">mage/gallery/gallery</span><span class="dl">'</span>
<span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nx">Gallery</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="c1">// to ensure that code evaluates on page load</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-role=example]</span><span class="dl">'</span><span class="p">)</span>  <span class="c1">// we expect that page contains markup &lt;tag data-role="example"&gt;..&lt;/tag&gt;</span>
            <span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">Gallery</span><span class="p">({</span>
                    <span class="na">options</span><span class="p">:</span>  <span class="p">{},</span>
                    <span class="na">data</span><span class="p">:</span> <span class="p">[{</span>
                        <span class="na">img</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://c2.staticflickr.com/8/7077/27935031965_facd03b4cb_b_d.jpg</span><span class="dl">'</span>
                    <span class="p">}],</span>
                    <span class="na">fullscreen</span><span class="p">:</span> <span class="p">{}</span>
                <span class="p">},</span> <span class="nx">element</span><span class="p">);</span>  <span class="c1">// 'element' is single DOM node.</span>
            <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="execute-data-mage-init-and-x-magento-init-in-dynamic-content">Execute data-mage-init and x-magento-init in dynamic content</h2>

<p>To trigger <code class="language-plaintext highlighter-rouge">.trigger('contentUpdated')</code> on the element when dynamic content is injected, use:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://www.example.com</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.example-element</span><span class="dl">'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
                             <span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="dl">'</span><span class="s1">contentUpdated</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>


			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="../../../../assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified" datetime="2020-03-02">
    Mar 2nd, 2020
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="../../release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="../../release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2020 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="../../../../assets/js/app.min.js?ver=10"></script>
<script src="../../../../assets/js/editions.min.js?ver=10"></script>
<script src="../../../../assets/js/page-updated.min.js?ver=10"></script>





<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>



<script type="text/javascript" src="../../../../common/js/glossary-link-enhancer.js"></script>


</body>
</html>

