<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Modify docroot to improve security | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="../../../../assets/css/app.css?ver=10" />
	<link rel="stylesheet" href="../../../../assets/css/print.css?ver=10" media="print"/>

	<link rel="stylesheet" href="../../../../common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="../../../../feed.xml" />


<link rel="canonical" href="../../../v2.4/install-gde/tutorials/change-docroot-to-pub.html" data-proofer-ignore />


<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.3", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs",
      baseUrl: "https://docs.magento.com/user-guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>



<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->

<script src="http://assets.adobedtm.com/98fab992275ef6366cc65f57f86b1e895a66c912/satelliteLib-f90f1129109ea4b2101512675a2769865aa7ea5b.js"></script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KRCLXBB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="http://devdocs.magento.com/guides/v2.3/">
      <img class="logo-image" src="../../../../assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Magento</span>
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/bk-cloud.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-start.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-upgrade-parent.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/release-notes/cloud-tools.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-development.html" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-config.html" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-quick-reference.html" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/project/project-conf-files_magento-app.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/env/environments.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-mftf.html" class="spectrum-Menu-itemLabel ">Magento application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../cloud/docker/docker-test-magecloud-pkg-code.html" class="spectrum-Menu-itemLabel ">Magento Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../bk-install-guide.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../extensions/index.html" class="spectrum-Menu-itemLabel ">Magento Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../release-notes/bk-release-notes.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../contributor-guide/contributing.html" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://magento.github.io/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="../../get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with Magento Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../graphql/index.html" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../marketplace/eqp/v1/api.html" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/testing.html" class="spectrum-Menu-itemLabel ">Magento Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../mftf/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../marketplace/sellers/getting-started.html" class="spectrum-Menu-itemLabel ">Extensions Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="http://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../page-builder/docs/index.html" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../payments-integrations/bk-payments-integrations.html" class="spectrum-Menu-itemLabel ">Payment Integrations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../recommendations/product-recs.html" class="spectrum-Menu-itemLabel ">Product Recommendations</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../security/security-and-compliance.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="../../rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../community/resources/support.html" class="spectrum-Menu-itemLabel ">Magento Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="../../../../videos/index.html" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher spectrum-Dropdown">

	<button id="version-switcher-button" class="spectrum-FieldButton spectrum-Dropdown-trigger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		<span class="spectrum-Dropdown-label">Magento 2.3</span>
    <i class="spectrum-Icon spectrum-UIIcon-ChevronDownMedium spectrum-Dropdown-icon" focusable="false" aria-hidden="true"></i>
  </button>

	<div class="dropdown-menu spectrum-Popover spectrum-Popover--bottom spectrum-Dropdown-popover">
		<ul class="dropdown-menu-left spectrum-Menu" aria-labelledby="version-switcher-button">
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="change-docroot-to-pub.html">Magento 2.3</a></li>
			
			<li class="spectrum-Menu-item"><a class="dropdown-item spectrum-Menu-itemLabel" href="http://devdocs.magento.com/guides/v2.4/install-gde/tutorials/change-docroot-to-pub.html">Magento 2.4</a></li>
			
		</ul>
	</div>
	
</div>

      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <div class="dropdown-menu spectrum-Popover spectrum-Dropdown-popover spectrum-Popover--bottom dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-1">Developer</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-1">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="../../../../index.html?itm_source=devdocs&amp;itm_medium=top_nav&amp;itm_campaign=app_switcher&amp;itm_term=Commerce&#32;Developer&#32;Documentation">Commerce Developer Documentation</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        </ul>
      </div>
      
      <div class="app-switcher-group">
        <span class="spectrum-Menu-sectionHeading" id="app-switcher-category-2">Merchant</span>
        <ul class="spectrum-Menu" role="group" aria-labelledby="app-switcher-category-2">
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/user-guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li class="spectrum-Menu-item" role="menuitem"><a class="spectrum-Menu-itemLabel" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        </ul>
      </div>
      
      </div>
    </div>
  </div>
</div>


      <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form
  class="spectrum-Search search-form"
  action="http://devdocs.magento.com/search.html"
>
  <input
    type="search"
    placeholder="Looking for something specific?"
    name="query"
    value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control"
    autocomplete="off"
  />
  <svg
    class="spectrum-Icon spectrum-UIIcon-Magnifier spectrum-Search-icon"
    focusable="false"
    aria-hidden="true"
  >
    <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="search-clear spectrum-ClearButton spectrum-SearchClearButton">
    <svg
      class="spectrum-Icon spectrum-UIIcon-CrossSmall"
      focusable="false"
      aria-hidden="true"
    >
      <rect fill="#ff13dc" opacity="0" width="18" height="18" /><path class="a" d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
    </svg>
  </button>
</form>

</div>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Installation Guide</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../bk-install-guide.html" class="spectrum-SideNav-itemLink ">How to get the Magento software</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-flow-diagram.html" class="spectrum-SideNav-itemLink ">Installation flow diagram</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Just the basics</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_magento-installed.html" class="spectrum-SideNav-itemLink ">Is the Magento software installed already?</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_os-version.html" class="spectrum-SideNav-itemLink ">What operating system is my server running?</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_login.html" class="spectrum-SideNav-itemLink ">How do I log in to my Magento server using a terminal, command prompt, or SSH?</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_module.html" class="spectrum-SideNav-itemLink ">What's the difference between a module and a component?</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_software.html" class="spectrum-SideNav-itemLink ">What is the software that the Magento server needs to run?</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../basics/basics_docroot.html" class="spectrum-SideNav-itemLink ">What is a docroot?</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Getting Started</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-resources-parent.html" class="spectrum-SideNav-itemLink ">Helpful resources</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-quick-ref.html" class="spectrum-SideNav-itemLink ">Installation quick reference (tutorial)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-resource-diagram.html" class="spectrum-SideNav-itemLink ">Installation flow diagram</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-roadmap_part1.html" class="spectrum-SideNav-itemLink ">Installation roadmap (reference)</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../system-requirements.html" class="spectrum-SideNav-itemLink ">Magento system requirements</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../system-requirements-tech.html" class="spectrum-SideNav-itemLink ">Magento technology stack requirements</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../system-requirements_browsers.html" class="spectrum-SideNav-itemLink ">Supported browsers</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Transport Layer Security (TLS) requirements</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../system-requirements_tls1-2.html" class="spectrum-SideNav-itemLink ">TLS 1.2 requirement for PayPal</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../system-requirements_repo-tls1-2.html" class="spectrum-SideNav-itemLink ">TLS requirement for repo.magento.com</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/prereq-overview.html" class="spectrum-SideNav-itemLink ">Prerequisites</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/apache.html" class="spectrum-SideNav-itemLink ">Apache</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/nginx.html" class="spectrum-SideNav-itemLink ">nginx</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/php-settings.html" class="spectrum-SideNav-itemLink ">PHP</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/mysql.html" class="spectrum-SideNav-itemLink ">MySQL</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/connect-auth.html" class="spectrum-SideNav-itemLink ">Get your authentication keys</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Magento file system ownership and permissions</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/file-sys-perms-over.html" class="spectrum-SideNav-itemLink ">Overview of ownership and permissions</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/file-system-perms.html" class="spectrum-SideNav-itemLink ">Set pre-installation ownership and permissions</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/install-rabbitmq.html" class="spectrum-SideNav-itemLink ">RabbitMQ</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/mysql_remote.html" class="spectrum-SideNav-itemLink ">Set up a remote MySQL database connection</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/security.html" class="spectrum-SideNav-itemLink ">SELinux and iptables</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/optional.html" class="spectrum-SideNav-itemLink ">Optional software</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/get-software.html" class="spectrum-SideNav-itemLink ">Get the Magento software</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../composer.html" class="spectrum-SideNav-itemLink ">Install Magento using Composer</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/zip_install.html" class="spectrum-SideNav-itemLink ">(Easy) Install the Magento archive on your server</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../prereq/dev_install.html" class="spectrum-SideNav-itemLink ">(Contributor) Clone the Magento repository</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/prepare-install.html" class="spectrum-SideNav-itemLink ">Update installation dependencies</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/get-help.html" class="spectrum-SideNav-itemLink ">Get help with your installation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../continue-to-install.html" class="spectrum-SideNav-itemLink ">Install options</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Setup Wizard Install</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-roadmap_web.html" class="spectrum-SideNav-itemLink ">Installation roadmap (reference)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web-sample-data.html" class="spectrum-SideNav-itemLink ">Install optional sample data modules</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web-sample-data-composer.html" class="spectrum-SideNav-itemLink ">Install using Composer</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web-sample-data-clone.html" class="spectrum-SideNav-itemLink ">Install by cloning repositories</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web.html" class="spectrum-SideNav-itemLink ">Setup Wizard installation</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_1-readiness.html" class="spectrum-SideNav-itemLink ">Step 1. Readiness check</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_2-db.html" class="spectrum-SideNav-itemLink ">Step 2. Add a Database</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_3-web-conf.html" class="spectrum-SideNav-itemLink ">Step 3. Web Configuration</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_4-customize-store.html" class="spectrum-SideNav-itemLink ">Step 4. Customize Your Store</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_5-create-admin.html" class="spectrum-SideNav-itemLink ">Step 5. Create Admin Account</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/web/install-web_6-install.html" class="spectrum-SideNav-itemLink ">Step 6. Install</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../continue-to-verify.html" class="spectrum-SideNav-itemLink ">Post-installation</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Command Line Installation</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install-roadmap_cli.html" class="spectrum-SideNav-itemLink ">Installation roadmap (reference)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli.html" class="spectrum-SideNav-itemLink ">Install the Magento software using the command line</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands.html" class="spectrum-SideNav-itemLink ">Get started with the command-line installation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-install.html" class="spectrum-SideNav-itemLink ">Install the Magento software</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-uninstall.html" class="spectrum-SideNav-itemLink ">Uninstall or reinstall Magento</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-adminurl.html" class="spectrum-SideNav-itemLink ">Display or change the Admin URI</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-sample-data-other.html" class="spectrum-SideNav-itemLink ">Remove sample data modules or update sample data</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-enable.html" class="spectrum-SideNav-itemLink ">Enable or disable modules</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-uninstall-mods.html" class="spectrum-SideNav-itemLink ">Uninstall modules</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-deployment.html" class="spectrum-SideNav-itemLink ">Create or update the deployment configuration</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-maint.html" class="spectrum-SideNav-itemLink ">Enable or disable maintenance mode</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-consumers.html" class="spectrum-SideNav-itemLink ">Configure consumer behavior</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-db.html" class="spectrum-SideNav-itemLink ">Create the Magento database schema</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-db-upgr.html" class="spectrum-SideNav-itemLink ">Update the Magento database schema and data</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-lock.html" class="spectrum-SideNav-itemLink ">Configure the lock provider</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-store.html" class="spectrum-SideNav-itemLink ">Configure the store</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-subcommands-admin.html" class="spectrum-SideNav-itemLink ">Create, edit, or unlock a Magento administrator account</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-backup.html" class="spectrum-SideNav-itemLink ">Back up and roll back the file system, media, and database</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-theme-uninstall.html" class="spectrum-SideNav-itemLink ">Uninstall themes Composer packages</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-uninstall-langpk.html" class="spectrum-SideNav-itemLink ">Uninstall language packages</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-sample-data.html" class="spectrum-SideNav-itemLink ">Install optional sample data modules</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-sample-data-composer.html" class="spectrum-SideNav-itemLink ">Install using Composer</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/install-cli-sample-data-clone.html" class="spectrum-SideNav-itemLink ">Install by cloning repositories</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/dev_options.html" class="spectrum-SideNav-itemLink ">Contributing developers—update, reinstall Magento</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/dev_update-magento.html" class="spectrum-SideNav-itemLink ">Update the Magento application</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/dev_add-update.html" class="spectrum-SideNav-itemLink ">Add or update components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/dev_downgrade.html" class="spectrum-SideNav-itemLink ">Change to a released version</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/cli/dev_reinstall.html" class="spectrum-SideNav-itemLink ">Reinstall the Magento software</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../continue-to-verify_cli.html" class="spectrum-SideNav-itemLink ">Post-installation</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Post Installation</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/verify.html" class="spectrum-SideNav-itemLink ">Verify the installation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/post-install-config.html" class="spectrum-SideNav-itemLink ">Configure the Magento application</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/post-install-umask.html" class="spectrum-SideNav-itemLink ">Optionally set a umask</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/legacy-file-system-perms.html" class="spectrum-SideNav-itemLink ">Appendix—Magento file system ownership and appendix (legacy)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/sample-data-after-magento.html" class="spectrum-SideNav-itemLink ">Install sample data after Magento</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/sample-data-after-composer.html" class="spectrum-SideNav-itemLink ">Install using Composer</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../install/sample-data-after-clone.html" class="spectrum-SideNav-itemLink ">Install by cloning repositories</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Troubleshooting</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Access issues</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="../trouble/php/tshoot_mod_access_compat.html" class="spectrum-SideNav-itemLink ">503 (Service Unavailable) errors accessing Magento software in a web browser</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../trouble/tshoot_var-gen-perms.html" class="spectrum-SideNav-itemLink ">Cannot write to the var/generation directory</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="../trouble/tshoot_install_depend.html" class="spectrum-SideNav-itemLink ">Installation dependencies not met</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">How Tos</span><ul class="spectrum-SideNav"><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="change-docroot-to-pub.html" class="spectrum-SideNav-itemLink ">Modify docroot to improve security</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  

  

  

  

  <h1 class="page-title">Modify docroot to improve security</h1>

  

  <div class="github-links spectrum-ButtonGroup"><div class="github-link">
    <a class="improve-page spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/blob/master/src/guides/v2.3/install-gde/tutorials/change-docroot-to-pub.md" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS" src="../../../../assets/i/icons/edit.svg" alt="" />
      <span class="spectrum-ActionButton-label">Edit on GitHub</span> 
    </a>
  </div><div class="new-issue">
    <a class="spectrum-ActionButton spectrum-ActionButton--quiet" href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.3/install-gde/tutorials/change-docroot-to-pub.html" target="_blank">
      <img class="spectrum-Icon spectrum-Icon--sizeS"  src="../../../../assets/i/icons/bug.svg" alt="" />
      <span class="spectrum-ActionButton-label">Log an Issue</span>
    </a>
  </div></div>


  



 

  

</section>

			</header>
			<main>
				<p>In a standard installation with an Apache web server, Magento is installed to the default web root: <code class="language-plaintext highlighter-rouge">/var/www/html/magento2</code>.
Within the <code class="language-plaintext highlighter-rouge">magento2</code> folder are:</p>

<ul>
  <li>/pub/</li>
  <li>/setup/</li>
  <li>/var/</li>
  <li>other folders</li>
</ul>

<p>The Magento app is served from <code class="language-plaintext highlighter-rouge">/var/www/html/magento2/pub</code>. The rest of the Magento file system is vulnerable because it is accessible from a browser.
Setting the webroot to the <code class="language-plaintext highlighter-rouge">pub/</code> directory prevents site visitors from accessing the Web Setup Wizard and other sensitive areas of the Magento file system from a browser.</p>

<p>This topic describes how to change the Apache <a href="../basics/basics_docroot.html">docroot</a> on an existing Magento instance to serve files from the Magento <code class="language-plaintext highlighter-rouge">pub/</code> directory, which is more secure.</p>

<p class="bs-callout-warning">If you’re accustomed to using the Web Setup Wizard during development, be aware that you will not be able to access it when serving files from the <code class="language-plaintext highlighter-rouge">pub/</code> directory.</p>

<p class="bs-callout-warning">The Web Setup Wizard is being deprecated in Magento 2.3.6 and will be removed in Magento 2.4.0. After it is removed, you must use the command line to <a href="../install/cli/install-cli.html">install</a> or <a href="http://devdocs.magento.com/guides/v2.3/comp-mgr/cli/cli-upgrade.html">upgrade</a> Magento.</p>

<h2 id="a-note-about-nginx">A note about nginx</h2>

<p>If you are using <a href="../prereq/nginx.html">nginx</a> and the <a href="https://github.com/magento/magento2/blob/2.3/nginx.conf.sample"><code class="language-plaintext highlighter-rouge">nginx.conf.sample</code></a> file included in the Magento installation directory, you are probably already serving files from the <code class="language-plaintext highlighter-rouge">pub/</code> directory.</p>

<p>When used in your server block that defines your site, the <code class="language-plaintext highlighter-rouge">nginx.conf.sample</code> configuration overrides your server’s docroot settings to serve files from Magento’s <code class="language-plaintext highlighter-rouge">pub/</code> directory. For example, see the last line in the following configuration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>    <span class="c"># /etc/nginx/sites-available/magento</span>

    upstream fastcgi_backend <span class="o">{</span>
         server  unix:/run/php/php7.0-fpm.sock<span class="p">;</span>
     <span class="o">}</span>

     server <span class="o">{</span>

              listen 80<span class="p">;</span>
              server_name 192.168.33.10<span class="p">;</span>
              <span class="nb">set</span> <span class="nv">$MAGE_ROOT</span> /var/www/html/magento2ce<span class="p">;</span>
              include /var/www/html/magento2ce/nginx.conf.sample<span class="p">;</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="before-you-begin">Before you begin</h2>

<p>To complete this tutorial, you will need access to a working Magento installation running on a <a href="https://en.wikipedia.org/wiki/LAMP_(software_bundle)" target="_blank">LAMP</a> stack:</p>

<ul>
  <li>Linux</li>
  <li>Apache (2.2+)</li>
  <li>MySQL (5.6+)</li>
  <li>PHP (7.1.3+ or 7.2)</li>
  <li>Magento (2.0+)</li>
</ul>

<p class="bs-callout-info">Refer to <a href="../prereq/prereq-overview.html">Prerequisites</a> and the <a href="../bk-install-guide.html">Installation Guide</a> for more information.</p>

<h2 id="1-edit-your-server-configuration">1. Edit your server configuration</h2>

<p>The name and location of your virtual host file depends on which version of Apache you are running. This example shows the name and location of the virtual host file on Apache v2.4.</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>
    <p>Edit your virtual host file:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>vim /etc/apache2/sites-available/000-default.conf
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Add the path to your Magento <code class="language-plaintext highlighter-rouge">pub/</code> directory to the <code class="language-plaintext highlighter-rouge">DocumentRoot</code> directive:</p>

    <div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre> &lt;<span class="n">VirtualHost</span> *:<span class="m">80</span>&gt;

         <span class="n">ServerAdmin</span> <span class="n">webmaster</span>@<span class="n">localhost</span>
         <span class="n">DocumentRoot</span> /<span class="n">var</span>/<span class="n">www</span>/<span class="n">html</span>/<span class="n">magento2ce</span>/<span class="n">pub</span>

         <span class="n">ErrorLog</span> ${<span class="n">APACHE_LOG_DIR</span>}/<span class="n">error</span>.<span class="n">log</span>
         <span class="n">CustomLog</span> ${<span class="n">APACHE_LOG_DIR</span>}/<span class="n">access</span>.<span class="n">log</span> <span class="n">combined</span>

         &lt;<span class="n">Directory</span> <span class="s2">"/var/www/html"</span>&gt;
                     <span class="n">AllowOverride</span> <span class="n">all</span>
         &lt;/<span class="n">Directory</span>&gt;
 &lt;/<span class="n">VirtualHost</span>&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Restart Apache:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>systemctl restart apache2
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h2 id="2-update-your-base-url">2. Update your base URL</h2>

<p>If you appended a directory name to your server’s hostname or IP address to create the base URL when you installed Magento (for example <code class="language-plaintext highlighter-rouge">http://192.168.33.10/magento2</code>), you’ll need to remove it.</p>

<p class="bs-callout-info">Replace <code class="language-plaintext highlighter-rouge">192.168.33.10</code> with your server’s hostname.</p>

<ol>
  <li>
    <p>Log in to the Magento database:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>mysql <span class="nt">-u</span> &lt;user&gt; <span class="nt">-p</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Specify the Magento database you created when you installed Magento:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>use &lt;database-name&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Update the base URL:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>UPDATE core_config_data SET <span class="nv">value</span><span class="o">=</span><span class="s1">'http://192.168.33.10'</span> WHERE <span class="nv">path</span><span class="o">=</span><span class="s1">'web/unsecure/base_url'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h2 id="3-update-the-envphp-file">3. Update the env.php file</h2>

<p>The following node needs to be appended to the <code class="language-plaintext highlighter-rouge">env.php</code> file.</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="s1">'directories'</span> =&gt; [
    <span class="s1">'document_root_is_pub'</span> =&gt; <span class="n">true</span>
]
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Refer to the <a href="http://devdocs.magento.com/guides/v2.3/config-guide/prod/config-reference-envphp.html">env.php reference</a> for more information.</p>

<h2 id="4-switch-modes">4. Switch modes</h2>

<p><a href="http://devdocs.magento.com/guides/v2.3/config-guide/bootstrap/magento-modes.html">Magento modes</a>, which include <code class="language-plaintext highlighter-rouge">production</code> and <code class="language-plaintext highlighter-rouge">developer</code>, are designed to improve security and make development easier. As the names suggest, you should switch to <code class="language-plaintext highlighter-rouge">developer</code> mode when extending or customizing Magento and switch to <code class="language-plaintext highlighter-rouge">production</code> mode when running Magento in a live environment.</p>

<p>Switching between modes is an important step in verifying that your server configuration is working properly. You can switch between modes using the Magento CLI tool:</p>

<ol>
  <li>Go to your Magento installation directory.</li>
  <li>
    <p>Switch to <code class="language-plaintext highlighter-rouge">production</code> mode.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>bin/magento deploy:mode:set production
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>bin/magento cache:flush
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Refresh your browser and verify that the storefront displays properly.</li>
  <li>
    <p>Switch to <code class="language-plaintext highlighter-rouge">developer</code> mode.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>bin/magento deploy:mode:set developer
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>bin/magento cache:flush
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Refresh your browser and verify that the storefront displays properly.</li>
</ol>

<h2 id="5-verify-the-storefront">5. Verify the storefront</h2>

<p>Go to the <a href="https://glossary.magento.com/storefront">storefront</a> in a web browser to verify that everything is working.</p>

<ol>
  <li>
    <p>Open a web browser and enter your server’s hostname or IP address in the address bar. For example, http://192.168.33.10.</p>

    <p>The following figure shows a sample storefront page. If it displays as follows, your installation was a success!</p>

    <p><img src="../../../../common/images/install-success_store.png" alt="Magento storefront which verifies a successful installation" width="450px" /></p>

    <p>Refer to the <a href="https://support.magento.com/hc/en-us/articles/360032994352">troubleshooting section</a> if the page displays a 404 (Not Found) or fails to load other assets like images, CSS, and JS.</p>
  </li>
  <li>
    <p>Try accessing the Magento directory for the Web Setup Wizard from a browser. Append “<em>setup/</em>” to your server’s hostname or IP address in the address bar:</p>

    <p>If you see a 404 or the “Access denied” message, you’ve successfully restricted access to the Magento file system.</p>

    <p><img src="../../../../common/images/access-denied.png" alt="Access denied" /></p>
  </li>
</ol>

<h2 class="no_toc" id="congratulations-youre-finished">Congratulations! You’re finished.</h2>

			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="../../../../assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified" datetime="2020-05-14">
    May 14th, 2020
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="../../release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="../../release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2020 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="../../../../assets/js/app.min.js?ver=10"></script>
<script src="../../../../assets/js/editions.min.js?ver=10"></script>
<script src="../../../../assets/js/page-updated.min.js?ver=10"></script>





<script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false) {
                didInit = true;
                Munchkin.init('585-GGD-959', {cookieAnon: false});
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<script type="text/javascript">_satellite.pageBottom();</script>



<script type="text/javascript" src="../../../../common/js/glossary-link-enhancer.js"></script>


</body>
</html>

